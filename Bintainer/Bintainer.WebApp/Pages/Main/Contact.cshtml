@*
    For more information on enabling MVC for empty projects, visit https://go.microsoft.com/fwlink/?LinkID=397860
*@
@{
}

<!--==========================
  Contact Section
============================-->

<section id="contact">
    <div class="container wow fadeInUp">
        <div class="section-header">
            <h3 class="section-title">Contact</h3>
            <p class="section-description">If you have any questions, please don't hesitate to reach out to us. We'll get back to you very soon.</p>
        </div>
    </div>

    <div class="container wow fadeInUp mt-5">
        <div class="row justify-content-center">

            <div class="col-lg-3 col-md-4">

                <div class="info">
                    <div>
                        <i class="fa fa-map-marker"></i>
                        <p> Bogazici University Kandilli, Altuner Sk. No:4, <br/> 34684 Üsküdar/İstanbul</p>
                       @*  <p>A108 Adam Street<br>New York, NY 535022</p> *@
                    </div>

                    <div>
                        <i class="fa fa-envelope"></i>
                        <p>admin@matilsoft.com</p>
                    </div>

                    <div>
                        <i class="fa fa-phone"></i>
                        <p>+90 538 030 7395</p>
                    </div>
                </div>

                <div class="social-links">
                    <a href="#" class="twitter"><i class="fa fa-twitter"></i></a>
                    <a href="#" class="linkedin"><i class="fa fa-linkedin"></i></a>
                </div>

            </div>

            <div class="col-lg-5 col-md-8">
                <div class="form">
                    <div id="sendmessage">Your message has been sent. Thank you!</div>
                    <div id="errormessage"></div>
                    <form action="" method="post" role="form" class="contactForm">
                        <div class="form-group">
                            <input type="text" name="name" class="form-control" id="name" placeholder="Your Name" data-rule="minlen:4" data-msg="Please enter at least 4 chars" />
                            <div class="validation"></div>
                        </div>
                        <div class="form-group">
                            <input type="email" class="form-control" name="email" id="email" placeholder="Your Email" data-rule="email" data-msg="Please enter a valid email" />
                            <div class="validation"></div>
                        </div>
                        <div class="form-group">
                            <input type="text" class="form-control" name="subject" id="subject" placeholder="Subject" data-rule="minlen:4" data-msg="Please enter at least 8 chars of subject" />
                            <div class="validation"></div>
                        </div>
                        <div class="form-group">
                            <textarea class="form-control" name="message" rows="5" data-rule="required" data-msg="Please write something for us" placeholder="Message"></textarea>
                            <div class="validation"></div>
                        </div>
                        <div class="text-center"><button type="submit" onclick="sendMail()">Send Message</button></div>
                    </form>
                </div>
            </div>

        </div>

    </div>
</section><!-- #contact -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@@emailjs/browser@4/dist/email.min.js">
</script>
<script>
    function sendMail() {
        // Disable the button and show loading indicator
        const sendButton = document.querySelector('button[type="submit"]');
        const loadingIndicator = document.getElementById('loading'); // Ensure you have an element with ID 'loading' for the indicator
        sendButton.disabled = true;
        if (loadingIndicator) {
            loadingIndicator.style.display = 'block';
        }

        emailjs.init("jZhfaE0nfb7QKHYxz");

        // Collect form values
        const params = {
            sender_name: document.getElementById("name").value,
            reply_to: document.getElementById("email").value,
            sender_subject: document.getElementById("subject").value,
            sender_message: document.querySelector("textarea[name='message']").value,
        };

        const templateID = "template_h3e0f27";
        const serviceID = "service_cmez6dq";

        // Send email using EmailJS
        emailjs.send(serviceID, templateID, params)
            .then(function (response) {
                // On success
                alert('Your message has been sent successfully!');

                // Clear the form fields
                document.getElementById("name").value = "";
                document.getElementById("email").value = "";
                document.getElementById("subject").value = "";
                document.querySelector("textarea[name='message']").value = "";

                // Show success message (optional)
                document.getElementById('sendmessage').style.display = 'block';
                document.getElementById('errormessage').style.display = 'none';
            })
            .catch(function (error) {
                // On error
                alert('There was an error sending your message. Please try again later.');

                // Show error message (optional)
                document.getElementById('sendmessage').style.display = 'none';
                document.getElementById('errormessage').style.display = 'block';
            })
            .finally(function () {
                // Re-enable the button and hide loading indicator
                sendButton.disabled = false;
                if (loadingIndicator) {
                    loadingIndicator.style.display = 'none';
                }
            });
    }
</script>
